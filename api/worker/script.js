!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2)}([function(e,t,r){const{jwtDecode:n}=r(3),o={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,HEAD,POST,OPTIONS","Access-Control-Max-Age":"86400"};e.exports={handle:e=>new Response(JSON.stringify(e),{headers:{"Content-Type":"application/json",...o}}),handleOptions:function(e){let t=e.headers;if(null!==t.get("Origin")&&null!==t.get("Access-Control-Request-Method")&&null!==t.get("Access-Control-Request-Headers")){let t={...o,"Access-Control-Allow-Headers":e.headers.get("Access-Control-Request-Headers")};return new Response(null,{headers:t})}return new Response(null,{headers:{Allow:"GET, HEAD, POST, OPTIONS"}})},readRequestBody:async function(e){const{headers:t}=e,r=t.get("content-type")||"";if(r.includes("application/json"))return JSON.stringify(await e.json());if(r.includes("application/text"))return e.text();if(r.includes("text/html"))return e.text();if(r.includes("form")){const t=await e.formData(),r={};for(const e of t.entries())r[e[0]]=e[1];return JSON.stringify(r)}{const t=await e.blob();return URL.createObjectURL(t)}}}},function(e,t){e.exports={Router:({base:e="",routes:t=[]}={})=>({__proto__:new Proxy({},{get:(r,n,o)=>(r,...a)=>t.push([n.toUpperCase(),RegExp(`^${(e+r).replace(/(\/?)\*/g,"($1.*)?").replace(/\/$/,"").replace(/:(\w+)(\?)?(\.)?/g,"$2(?<$1>[^/]+)$2$3").replace(/\.(?=[\w(])/,"\\.")}/*$`),a])&&o}),routes:t,async handle(e,...r){let n,o,a=new URL(e.url);for(var[s,i,c]of(e.query=Object.fromEntries(a.searchParams),t))if((s===e.method||"ALL"===s)&&(o=a.pathname.match(i)))for(var l of(e.params=o.groups,c))if(void 0!==(n=await l(e.proxy||e,...r)))return n}})}},function(e,t,r){"use strict";r.r(t);var n=r(1),o=r(0);const a=Object(n.Router)();a.get("/key/:keyName",async e=>{let t=await KNOWLEDGE_BOX.get(""+e.params.keyName);return t&&t.length&&(t=JSON.parse(t)),Object(o.handle)({content:t||null})}),a.post("/key/:keyName",async e=>{const t=await e.json();await KNOWLEDGE_BOX.put(""+e.params.keyName,JSON.stringify(t.content));return Object(o.handle)({message:"created",body:t})}),a.all("*",()=>new Response("404",{status:404})),addEventListener("fetch",e=>{"OPTIONS"!==e.request.method?e.respondWith(a.handle(e.request)):e.respondWith(Object(o.handleOptions)(e.request))})},function(e,t,r){"use strict";function n(e){this.message=e}r.r(t),r.d(t,"InvalidTokenError",(function(){return s})),n.prototype=new Error,n.prototype.name="InvalidCharacterError";var o="undefined"!=typeof window&&window.atob&&window.atob.bind(window)||function(e){var t=String(e).replace(/=+$/,"");if(t.length%4==1)throw new n("'atob' failed: The string to be decoded is not correctly encoded.");for(var r,o,a=0,s=0,i="";o=t.charAt(s++);~o&&(r=a%4?64*r+o:o,a++%4)?i+=String.fromCharCode(255&r>>(-2*a&6)):0)o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(o);return i};function a(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw"Illegal base64url string!"}try{return function(e){return decodeURIComponent(o(e).replace(/(.)/g,(function(e,t){var r=t.charCodeAt(0).toString(16).toUpperCase();return r.length<2&&(r="0"+r),"%"+r})))}(t)}catch(e){return o(t)}}function s(e){this.message=e}s.prototype=new Error,s.prototype.name="InvalidTokenError",t.default=function(e,t){if("string"!=typeof e)throw new s("Invalid token specified");var r=!0===(t=t||{}).header?0:1;try{return JSON.parse(a(e.split(".")[r]))}catch(e){throw new s("Invalid token specified: "+e.message)}}}]);